<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>direito.love ‚Äî Resultados</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>

    <!-- HEADER: mini logo + campo de busca em p√≠lula com √≠cone -->
    <header>
      <img src="icons/logo-mini.png" alt="direito.love" class="mini-logo">

      <div class="search-wrap" role="search">
        <input id="campoBusca" type="search" placeholder="Pesquisar artigo, lei, s√∫mula ou termo‚Ä¶" />
        <button id="btnBuscar" aria-label="Buscar">üîç</button>
      </div>
    </header>

    <!-- BOX 1: Resultados globais (organizados por arquivo) -->
    <section class="box" id="box-resultados">
      <h2>Resultados globais</h2>

      <!-- Lista de resultados (cards) -->
      <div id="resultados">
        <!-- Os cards s√£o inseridos via JS.
             Estrutura esperada:
             <div class="card">
               <div class="artigo">Art 145 - texto‚Ä¶</div>
               <div class="card-actions">
                 <button class="btn-pill">ESTUDAR</button>
                 <button class="btn-pill">CONSULTAR</button>
                 <button class="btn-pill">SELECIONAR</button>
               </div>
             </div>
        -->
      </div>

      <div class="hr"></div>

      <!-- Chips dos arquivos (trocam a lista exibida) -->
      <div class="chips" id="chipsArquivos" aria-label="Filtrar por arquivo">
        <!-- Preenchido via JS; exemplo:
             <button class="chip active" data-arquivo="civil">CIVIL</button>
             <button class="chip" data-arquivo="penal">PENAL</button>
             <button class="chip" data-arquivo="processo-penal">PROCESSO PENAL</button>
        -->
      </div>
    </section>

    <!-- BOX 2: Selecionados -->
    <section class="box" id="box-selecionados">
      <h2>
        Selecionados
        <button id="limpar-tudo">LIMPAR TUDO</button>
      </h2>

      <div id="selecionados">
        <!-- Exemplo de item renderizado via JS:
            <div class="card">
              <div class="info">
                <div class="titulo">C√≥digo Penal</div>
                <div class="resumo">Art. 186 - texto‚Ä¶</div>
              </div>
              <span class="badge-selected">SELECIONADO</span>
            </div>
        -->
      </div>

      <button id="salvar-lista">SALVAR LISTA</button>
    </section>

    <!-- MODAL: Listas salvas -->
    <div id="modalListas" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalListasTitulo">
      <div class="modal-content">
        <h3 id="modalListasTitulo">Listas salvas</h3>
        <ul id="listasSalvas"></ul>
        <div style="display:flex; gap:10px; margin-top:12px;">
          <button class="btn-pill" onclick="fecharModalListas()">Fechar</button>
          <button class="btn-pill" onclick="excluirTodasListas()" style="color:#a33;">Excluir todas</button>
        </div>
      </div>
    </div>

    <!-- RODAP√â FIXO: dois bot√µes grandes -->
    <footer>
      <div class="footer-inner">
        <button class="btn-footer" id="btnAbrirListas">ABRIR LISTAS</button>
        <button class="btn-footer" id="btnNovaPesquisa">NOVA PESQUISA</button>
      </div>
    </footer>
  </main>

  <script src="app.js"></script>
  <script>
    // Liga√ß√µes m√≠nimas para a p√°gina funcionar assim que carregar
    document.addEventListener('DOMContentLoaded', () => {
      // Preenche o campo com o termo vindo da URL e renderiza resultados
      if (typeof getParametroBusca === 'function') {
        const termo = getParametroBusca();
        const campo = document.getElementById('campoBusca');
        if (campo) campo.value = termo;
      }

      // Bot√£o de buscar
      const btnBuscar = document.getElementById('btnBuscar');
      if (btnBuscar) btnBuscar.addEventListener('click', () => {
        if (typeof novaBusca === 'function') novaBusca();
      });

      // Enter no campo de busca
      const campoBusca = document.getElementById('campoBusca');
      if (campoBusca) campoBusca.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && typeof novaBusca === 'function') novaBusca();
      });

      // Abrir listas (rodap√©)
      const btnAbrirListas = document.getElementById('btnAbrirListas');
      if (btnAbrirListas) btnAbrirListas.addEventListener('click', () => {
        if (typeof abrirModalListas === 'function') abrirModalListas();
      });

      // Nova pesquisa (rodap√©)
      const btnNovaPesquisa = document.getElementById('btnNovaPesquisa');
      if (btnNovaPesquisa) btnNovaPesquisa.addEventListener('click', () => {
        if (typeof novaPesquisa === 'function') novaPesquisa();
      });

      // Limpar tudo nos selecionados
      const btnLimpar = document.getElementById('limpar-tudo');
      if (btnLimpar) btnLimpar.addEventListener('click', () => {
        if (typeof limparSelecionados === 'function') limparSelecionados();
      });

      // Salvar lista
      const btnSalvar = document.getElementById('salvar-lista');
      if (btnSalvar) btnSalvar.addEventListener('click', () => {
        if (typeof salvarLista === 'function') salvarLista();
      });

      // Render inicial (se o app.js j√° estiver carregado)
      if (typeof renderizarResultados === 'function') {
        const termo = (typeof getParametroBusca === 'function') ? getParametroBusca() : '';
        renderizarResultados(termo);   // popula #resultados
      }
      if (typeof renderizarSelecionados === 'function') {
        renderizarSelecionados();      // popula #selecionados
      }
      if (typeof renderizarChipsArquivos === 'function') {
        renderizarChipsArquivos();     // popula #chipsArquivos (opcional, se voc√™ criar no JS)
      }
    });
  </script>
</body>
</html>
