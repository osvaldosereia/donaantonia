/* =========================
   Meujus – style.css (2025-10-07)
   ========================= */

:root{
  --ink:#0B1220;
  --muted:#6B7A90;
  --bg:#F3F6F9;
  --card:#FFFFFF;
  --surface:#E8EEF7;
  --line:#D6DFEA;

  --primary:#1F3B82;
  --accent:#00A3FF;

  --radius:12px;
  --shadow:0 6px 20px rgba(0,0,0,.08);

  --topbar-h:64px;
}

/* Reset básico */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
  color:var(--ink);
  background:var(--bg);
}
body.noscroll{overflow:hidden}
a{color:inherit;text-decoration:none}
ul{margin:0;padding:0;list-style:none}

/* ===== Layout ===== */
.container{max-width:960px;margin:0 auto;padding:12px 16px}

/* ===== Topbar ===== */
.topbar{
  position:sticky;top:0;z-index:30;background:var(--card);
  border-bottom:1px solid var(--line);
}
.topbar-inner{display:flex;align-items:center;gap:12px;min-height:var(--topbar-h)}
.brand{font-weight:700;letter-spacing:-.3px;display:flex;gap:4px}
.brand .b1{color:var(--primary)} .brand .b2{color:var(--accent)}
.link-nav{margin-left:8px;color:var(--primary);font-weight:600}
.hamburger{margin-left:auto;border:0;background:transparent;width:38px;height:34px;display:grid;place-items:center}
.hamburger span{display:block;width:20px;height:2px;background:var(--ink);border-radius:2px}
.hamburger span+span{margin-top:4px}

/* ===== Home minimalista ===== */
.is-home .topbar{display:none}
.is-home #postAc,.is-home .ficha-head{display:none}

.home-center{min-height:100vh;display:flex;align-items:center;justify-content:center;transform:translateY(-6vh)}
.home-inline{display:flex;align-items:center;gap:18px}
.home-logo{font-weight:600;font-size:50px;line-height:1;letter-spacing:-.3px;display:flex;gap:6px;white-space:nowrap}
.home-logo .b1{color:var(--primary)} .home-logo .b2{color:var(--accent)}
.home-search-host{width:min(560px,60vw)}
.home-search-host .search-wrap,.home-search-host .search{width:100%}
@media (max-width:720px){
  .home-inline{flex-direction:column;gap:16px}
  .home-logo{font-size:34px}
  .home-search-host{width:90vw}
}

/* ===== Busca / Autocomplete ===== */
.search-wrap{flex:1;display:flex;align-items:center;position:relative}
.search{
  width:100%;padding:10px 12px;border:1px solid var(--line);
  border-radius:10px;background:var(--surface);outline:0;color:var(--ink)
}
.search::placeholder{color:var(--muted)}

.suggestions{
  position:absolute;left:0;top:calc(100% + 6px);width:min(100%, 90vw);
  background:var(--card);border:1px solid var(--line);border-radius:10px;
  box-shadow:var(--shadow);padding:8px;z-index:75;max-height:min(70vh,560px);
  overflow-y:auto;text-align:left
}
.suggestions *{text-align:left}
.suggestions.pop{position:fixed;max-height:min(70vh,560px);z-index:80}
.suggestions .ac-chips{display:flex;flex-wrap:wrap;gap:6px;margin:4px 4px 8px}
.suggestions .ac-chip{
  border:1px solid var(--line);background:var(--surface);padding:6px 10px;
  border-radius:999px;cursor:pointer;font-size:12px;color:var(--primary)
}
.suggestions li{padding:8px 6px;border-radius:8px}
.suggestions li:hover{background:var(--surface)}
.suggestions .s1{font-weight:600}
.suggestions .s2{font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
@media (max-width:720px){
  .suggestions{width:90vw;left:50%;transform:translateX(-50%)}
  .suggestions.pop{left:50%;transform:translateX(-50%);width:90vw}
}

/* ===== Cards ===== */
.card{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
  box-shadow:var(--shadow);margin:28px 0;
  scroll-margin-top:calc(var(--topbar-h) + 16px);
}
.ubox{padding:14px 16px}
.h1{font-size:20px;line-height:1.15;margin:14px 0 0 0;color:var(--primary)}
.h2{font-size:16px;margin:0 0 6px 0}

/* Seções – linha + respiro ENTRE seções */
.ubox-section{padding-top:10px}
.ubox-section + .ubox-section{
  border-top:1px solid var(--line);
  margin-top:18px;padding-top:18px;
}
.ubox-sub{font-size:14px;font-weight:700;margin:0 0 8px 0;color:var(--ink)}

/* Ações (chips) */
.actions{display:flex;justify-content:flex-start;align-items:center}
.chip-bar{display:flex;flex-wrap:wrap;gap:8px;margin:0 0 12px 0}
.btn-ios{
  appearance:none;border:1px solid var(--line);background:var(--surface);
  color:var(--primary);border-radius:999px;padding:8px 12px;cursor:pointer;
  font-weight:500;font-size:13px
}
.btn-ios.is-small{padding:6px 10px;font-size:12px}
.btn-ios[data-variant="primary"]{border-color:transparent;background:var(--primary);color:#fff}

/* Texto e links */
.link-arrow{position:relative;display:inline;font-weight:400;white-space:normal}
.arrow-icon{
  display:inline-block;padding:0 6px;margin-left:6px;border-radius:6px;
  background:#EEF2F7;color:var(--primary);font-size:.85em;line-height:1.2;
  vertical-align:baseline;box-shadow:none;border:none
}
.ref-list li + li{margin-top:10px}
.ref-list .muted{margin-top:4px;font-size:.92em;color:var(--muted)}

/* Toasts */
#toasts{position:fixed;right:12px;bottom:12px;display:grid;gap:8px;z-index:98}
.toast{background:var(--card);border:1px solid var(--line);border-radius:10px;box-shadow:var(--shadow);padding:8px 10px;opacity:0;transform:translateY(8px);transition:.18s}
.toast.show{opacity:1;transform:none}

/* Modal mínimo */
.modal{position:fixed;inset:0;z-index:99;display:grid;place-items:center;visibility:hidden}
.modal.open{visibility:visible}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.32)}
.modal-panel{position:relative;width:min(720px,92vw);background:var(--card);border-radius:12px;box-shadow:var(--shadow);overflow:hidden}
.modal-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--line)}
.modal-body{padding:14px 16px}

/* Mark highlight */
mark{background:rgba(0,163,255,.25);padding:0 .1em;border-radius:2px}

/* Remoção de setas pós-busca */
#postAc,.post-ac,.post-ac-inner,.post-ac-track,.post-ac-nav{display:none!important}

/* ===== Drawer (off-canvas) ===== */
.drawer{position:fixed;inset:0;pointer-events:none;z-index:1000}
.drawer-backdrop{position:absolute;inset:0;background:rgba(15,23,42,.32);display:none}
.drawer-panel{
  position:absolute;top:0;left:0;width:clamp(260px,78vw,320px);height:100%;
  overflow:auto;background:#fff;box-shadow:0 10px 30px rgba(2,6,23,.18);
  transform:translateX(-104%);transition:transform .28s ease; padding:8px 0 16px;
}
.drawer.open{pointer-events:auto}
.drawer.open .drawer-backdrop{display:block;backdrop-filter:blur(2px)}
.drawer.open .drawer-panel{transform:translateX(0)}
.drawer-header{
  position:sticky;top:0;z-index:2;display:flex;align-items:center;justify-content:space-between;
  padding:12px 14px;background:#fff;border-bottom:1px solid var(--line)
}
.drawer-brand{font-weight:700;letter-spacing:-.3px;display:flex;gap:4px}
.drawer-brand .b1{color:var(--primary)} .drawer-brand .b2{color:var(--accent)}
.drawer-close{
  appearance:none;border:1px solid var(--line);background:var(--surface);
  color:var(--primary);border-radius:999px;padding:6px 10px;cursor:pointer;font-weight:600;font-size:12px
}
.drawer .menu{margin:0;padding:12px 14px 24px;list-style:none}
.menu-title{
  margin:10px 0 6px;font-weight:700;color:var(--muted);font-size:12px;
  text-transform:uppercase;letter-spacing:.08em
}
.divider{height:1px;background:var(--line);margin:10px 0}
.cat-btn{
  appearance:none;background:transparent;border:0;width:100%;
  display:flex;align-items:center;justify-content:space-between;gap:8px;
  padding:8px 10px;border-radius:10px;cursor:pointer;color:var(--ink)
}
.cat-btn:hover{background:var(--surface)}
.cat-btn .caret{display:inline-block;transition:transform .18s ease}
.cat-btn[aria-expanded="true"] .caret{transform:rotate(90deg)}
.sublist{margin:6px 0 12px 0;padding-left:0}
.sublist li + li{margin-top:4px}
.sublist a.title{display:block;padding:6px 10px;border-radius:8px;color:var(--ink)}
.sublist a.title:hover{background:var(--surface)}
.drawer .menu > li > a.title{display:block;padding:8px 10px;border-radius:10px}
.drawer .menu > li > a.title:hover{background:var(--surface)}
button.mini{
  appearance:none;border:1px solid var(--line);background:var(--surface);
  color:var(--primary);border-radius:999px;padding:4px 8px;cursor:pointer;font-size:11px;margin-left:8px
}

/* Logo maior apenas no desktop */
@media (min-width:721px){
  .brand{font-size:28px;line-height:1}
  .home-logo{font-size:52px;line-height:1}
}

/* ========= IA dropdown ========== */
.ia-pop{
  position:absolute;min-width:240px;background:#fff;border:1px solid var(--line);
  border-radius:10px;box-shadow:var(--shadow);padding:6px;z-index:95
}
.ia-item{
  width:100%;display:block;text-align:left;border:0;background:transparent;
  padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600;color:var(--primary)
}
.ia-item:hover{background:var(--surface)}
.ia-group-title {
  font-size:12px;font-weight:700;color:var(--muted);
  margin:6px 8px 4px;text-transform:uppercase;letter-spacing:.05em;
}
.ia-group + .ia-group {border-top:1px solid var(--line);margin-top:4px;padding-top:4px;}
.ia-pop{transition:opacity .2s ease}
.ia-pop.hide{opacity:0}

/* ===== Afinar textos dos cards ===== */
.card, .card .ubox, .card .ubox-section { font-weight:400; color:var(--ink); }
.card .h1, .card .h2 { font-weight:500; }
.card .ubox, .card .ubox-section { font-size:15px; line-height:1.7; }
.card .muted, .card .ref-list, .card .card-cat { font-weight:300; opacity:.9; }

/* ===== Somente o botão .arrow-icon deve ser clicável ===== */
.link-arrow{pointer-events:none;text-decoration:none;color:var(--ink)}
.link-arrow .arrow-icon{pointer-events:auto;cursor:pointer}

/* ===== Header do card: separadores + categoria ===== */
.card-sep{height:1px;background:var(--line);margin:8px 0}
.card-cat{font-size:12px;color:var(--muted);margin:0 0 8px 0;padding:0}

/* ===== Ficha ===== */
.ficha-head{padding:0 0 8px 0!important;display:grid;grid-template-areas:"chips" "title";grid-template-columns:1fr;align-items:start;gap:0}
.ficha-head .chip-bar{grid-area:chips;margin:0 0 12px 0}
.ficha-head .h1{grid-area:title;margin:0}
.card.ubox{padding:14px 16px}

/* ===== Chips das sugestões – rolagem horizontal contínua ===== */
.suggestions .ac-chips{
  display:flex;gap:6px;margin:4px 4px 8px;flex-wrap:nowrap!important;
  overflow-x:auto;overflow-y:hidden;overscroll-behavior-x:contain;-webkit-overflow-scrolling:touch;
  scrollbar-width:thin;mask-image:linear-gradient(to right, transparent 0, black 12px, black calc(100% - 12px), transparent 100%);
}
.suggestions .ac-chip{flex:0 0 auto}
.suggestions .ac-chips::-webkit-scrollbar{height:6px}
.suggestions .ac-chips::-webkit-scrollbar-thumb{background:var(--line);border-radius:999px}

/* ===== Home: herói ===== */
.card .ubox-section:first-of-type{margin-top:6px!important;padding-top:6px!important}
.home-hero{min-height:50vh;display:flex;justify-content:center;align-items:flex-end;padding-bottom:24px}
.home-stack{display:flex;flex-direction:column;align-items:center;gap:16px;width:min(680px,92vw);margin:0 auto}
.home-logo{display:block;height:56px;width:auto}
@media (min-width:768px){ .home-logo{height:72px} }
.home-search{width:100%}
.home-search input[type="search"],.home-search input[type="text"]{display:block;width:100%;margin:0 auto}
.route-home .home-hero{min-height:30vh;display:flex;align-items:flex-end;justify-content:center;padding-bottom:28px}
.route-home .home-stack{display:flex;flex-direction:column;align-items:center;gap:16px;width:min(680px,92vw);margin:0 auto;text-align:center}
.route-home .home-logo{display:block;height:56px;width:auto}
.route-home .home-logo.text{font-size:36px;line-height:1;font-weight:800}
@media (min-width:768px){ .route-home .home-logo{height:72px} .route-home .home-logo.text{font-size:48px} }
.route-home .home-search{width:100%}
.route-home .home-search input{display:block;width:100%;margin:0 auto}
.route-home .container > .brand + .searchbar,.route-home .container > .brand + form{display:block}
.route-home .container > .brand{display:block;margin:0 auto 16px;text-align:center;font-size:48px;line-height:1}
@media (max-width:767px){ .route-home .container > .brand{font-size:36px} }
.route-home .container input[type="search"]{display:block;width:min(680px,92vw);margin:0 auto}

/* ===== Acessibilidade ===== */
.sr-only{
  position:absolute!important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* =========================================================
   QUIZ – integração visual + responsividade
   ========================================================= */

/* Utilitários que o app usa */
.row{display:flex;align-items:center;gap:8px}
.row.wrap{flex-wrap:wrap}
.jc{justify-content:flex-start}
.between{justify-content:space-between}
.mt8{margin-top:8px}
.mt12{margin-top:12px}
.vspace > * + *{margin-top:12px}
.vspace-sm > * + *{margin-top:6px}

/* Chips (modo, tags, alternativas, mapa) */
.chip{
  appearance:none; border:1px solid var(--line); background:var(--surface);
  color:var(--primary); border-radius:999px; padding:8px 12px;
  font-weight:500; font-size:13px; cursor:pointer; line-height:1.2;
}
.chip:hover{background:#f0f4fb}
.chip.is-selected{background:var(--primary); color:#fff; border-color:transparent}
.chip:focus-visible{outline:2px solid var(--accent); outline-offset:2px}

/* Botões do fluxo */
.btn{
  appearance:none; border:1px solid var(--line); background:var(--surface);
  color:var(--primary); border-radius:10px; padding:8px 12px;
  cursor:pointer; font-weight:600; font-size:13px; line-height:1.2;
}
.btn:hover{filter:brightness(0.98)}
.btn.outline{background:transparent}
.btn.warn{border-color:#f59e0b33; background:#fff7ed; color:#9a3412}
.btn.ghost{background:transparent; border-color:transparent; color:var(--muted)}
.btn[disabled]{opacity:.5; pointer-events:none}

/* Cartão do quiz */
.quiz-card .card-head .h2{margin:0}
.quiz-card .enunciado{font-size:15.5px; line-height:1.7}

/* Alternativas: responsivo */
.quiz-card .radiogroup{display:flex;flex-wrap:wrap;gap:8px}
.quiz-card .radiogroup .chip{flex:0 1 auto;max-width:100%}
@media (max-width:720px){
  .quiz-card .radiogroup .chip{flex:1 1 100%} /* quebra em linhas no mobile */
}

/* Navegação de ação */
.quiz-card .row.gap{flex-wrap:wrap}
@media (max-width:720px){
  .quiz-card .row.gap .btn{flex:1 1 calc(50% - 8px)} /* duas colunas */
}

/* Feedback de resposta */
.feedback{
  border:1px solid var(--line); background:var(--surface);
  border-radius:10px; padding:10px 12px; font-weight:500;
}
.feedback.ok{border-color:#22c55e33; background:#f0fdf4; color:#166534}
.feedback.err{border-color:#ef444433; background:#fef2f2; color:#991b1b}

/* Mapa de questões */
#qmap .chip{padding:6px 10px}
.chip.is-current{outline:2px solid currentColor}
.chip.is-answered{opacity:.95}
.chip.is-marked{border:2px dashed var(--accent)}

/* ===========================================
   QUIZ — simplificação visual e mobile-first
   =========================================== */

/* 1) Remover controles que não serão usados */
.quiz-card [aria-label="Modo"],
.quiz-card [aria-label="Filtro por tag"],
.quiz-card #q-timer,
.quiz-card .btn.warn,
.quiz-card [data-finish],
.quiz-card [data-restart],
#qmap,
.quiz-card .mapa,
.quiz-card .map { display:none !important; }

/* 2) Cabeçalho e enunciado mais profissionais */
.quiz-card .card-head{padding-bottom:6px;border-bottom:1px solid var(--line);}
.quiz-card .h2{font-size:18px;font-weight:600;color:var(--primary);}
.quiz-card .enunciado{
  margin-top:10px;
  padding:10px 12px;
  background:#fff;
  border:1px solid var(--line);
  border-radius:10px;
  font-size:16px;
  line-height:1.7;
  font-weight:500;
}

/* 3) Alternativas discretas (estilo “lista selecionável”) */
.quiz-card .radiogroup{
  display:grid;
  grid-template-columns:1fr;
  gap:8px;
  margin-top:12px;
}
.quiz-card .radiogroup .chip{
  /* vira “opção” compacta */
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;
  width:100%;
  padding:10px 12px;
  border:1px solid var(--line);
  background:#fff;
  border-radius:10px;
  color:var(--ink);
  font-weight:500;
  font-size:14px;
}
.quiz-card .radiogroup .chip:hover{background:var(--surface);}
.quiz-card .radiogroup .chip:is(:focus-visible){outline:2px solid var(--accent);outline-offset:1px;}
.quiz-card .radiogroup .chip.is-selected{
  border-color:#16a34a66;
  box-shadow:0 0 0 2px #16a34a1a inset;
  background:#f0fdf4;
}

/* 4) Feedback simples */
.quiz-card .feedback{
  margin-top:8px;
  border:1px solid var(--line);
  background:#fff;
  border-radius:10px;
  padding:10px 12px;
  font-size:14px;
  font-weight:500;
}
.quiz-card .feedback.ok{border-color:#16a34a33;color:#166534;background:#f0fdf4;}
.quiz-card .feedback.err{border-color:#ef444433;color:#991b1b;background:#fef2f2;}

/* 5) Barra de ações enxuta (somente Anterior / Próxima / Sair) */
.quiz-card .row.gap{flex-wrap:wrap;gap:8px;}
.quiz-card .btn{
  border-radius:10px;
  padding:10px 12px;
  font-size:13px;
  font-weight:600;
}
.quiz-card .btn.ghost{color:var(--muted);}
@media (max-width:720px){
  .quiz-card .row.gap .btn{flex:1 1 calc(50% - 8px);}
}

/* 6) Página de lista do quiz: mais limpa */
#content .quiz-card .ubox > .row[aria-label="Modo"],
#content .quiz-card .ubox > .row[aria-label="Filtro por tag"]{ display:none !important; }

#content .quiz-card .search{background:#fff;border-color:var(--line);}

/* 7) Garantias de mobile para inputs e botões do quiz */
@media (max-width:480px){
  .quiz-card .enunciado{font-size:15.5px;padding:10px;}
  .quiz-card .radiogroup .chip{padding:10px;font-size:14px;}
}

/* 8) Resumo: esconder métricas detalhadas, manter só lista de erros */
section.card .ubox strong:has(+ .vspace-sm), /* “Desempenho por tag” */
section.card .ubox strong:has(+ .row.jc.between) { display:none !important; }
section.card .ubox strong + .vspace-sm,
section.card .ubox strong + .row.jc.between { display:none !important; }

/* Quiz – leitura melhor */
.quiz-card .card-head .h2{font-size:1.05rem;margin-bottom:.25rem}
.quiz-card .enunciado{
  text-align:left;font-size:1.0rem;line-height:1.35;
  font-weight:600;margin:8px 0 14px;color:#0f172a;
}

/* opções alinhadas à esquerda, blocos largos */
.quiz-card .radiogroup{display:grid;gap:10px}
.quiz-card .chip{
  display:flex;align-items:flex-start;gap:10px;
  text-align:left;white-space:normal;
  padding:12px 14px;border:1px solid #e5e7eb;border-radius:12px;
  background:#fff;font-size:.98rem;line-height:1.45;
}
.quiz-card .chip:hover{border-color:#cbd5e1}
.quiz-card .chip.is-selected{border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.15)}
.quiz-card .chip.ok{background:#f0fdf4;border-color:#22c55e}
.quiz-card .chip.err.is-selected{background:#fef2f2;border-color:#ef4444}

/* rótulo A/B/C das alternativas */
.quiz-card .opt-badge{
  flex:0 0 auto;display:inline-grid;place-items:center;
  width:28px;height:28px;border-radius:999px;border:1px solid #cbd5e1;
  font-weight:400;font-size:.85rem;background:#f8fafc;color:#334155;
}
.quiz-card .opt-text{display:block}

/* ===== Override final para opções do quiz ===== */
.quiz-card .radiogroup .chip,
.quiz-card .radiogroup .chip .opt-text{
  font-weight:300 !important;   /* 300 = light; use 400 se faltar peso */
}

.quiz-card .opt-badge{
  font-weight:600 !important;   /* selo A/B/C mais firme */
}
